!function(e){if(!/^((?!chrome|android).)*safari/i.test(navigator.userAgent))return e.fn.fixSVGStack=function(){return this},void(e.fn.fixSVGStackBackground=function(){return this});var t={};function r(r,n){r in t&&n(t[r]);var a=r.split("#");2!==a.length&&n(!1);e.ajax({url:a[0],cache:!0,dataType:"text",success:function(e){var i,g=(new window.DOMParser).parseFromString(e,"text/xml").getElementById(a[1]).parentNode;null==g&&(t[r]=!1,n(!1));var o=g.getAttribute("viewBox");o&&4===(i=o.split(" ")).length&&(g.setAttribute("width",i[2]),g.setAttribute("height",i[3]));var u=(new XMLSerializer).serializeToString(g),c="data:image/svg+xml;utf-8,"+escape(u);t[r]=c,n(c)}})}e.fn.fixSVGStackBackground=function(){return this.each(function(){var t=e(this),n=t[0].style.backgroundImage.slice(4,-1).replace(/["']/g,"");if(-1===n.indexOf(".svg#")){var a=getComputedStyle(t[0],null),i=!1;if(-1===a.backgroundImage.indexOf(".svg")&&(i=-1!==(a=getComputedStyle(t[0],":before")).backgroundImage.indexOf(".svg")),-1===a.backgroundImage.indexOf(".svg")&&(i=-1!==(a=getComputedStyle(t[0],":after")).backgroundImage.indexOf(".svg")),i){var g=document.createElement("div"),o=a.getPropertyValue("background-size"),u=a.getPropertyValue("width"),c=a.getPropertyValue("height"),s="";o.length&&-1===o.indexOf("auto")&&-1===o.indexOf("%")&&((o=o.split(" ")).length,u=o[0],c=2===o.length?o[1]:o[0]),s+="display:"+a.getPropertyValue("display"),s+=";background-image:"+a.getPropertyValue("background-image"),s+=";background-position:"+a.getPropertyValue("background-position"),s+=";background-repeat:"+a.getPropertyValue("background-repeat"),s+=";background-size:"+a.getPropertyValue("background-size"),s+=";position:"+a.getPropertyValue("position"),s+=";width:"+u,s+=";height:"+c,s+=";left:"+a.getPropertyValue("left"),s+=";right:"+a.getPropertyValue("right"),s+=";top:"+a.getPropertyValue("top"),s+=";transform"+a.getPropertyValue("transform"),s+=";",g.style.cssText=s}-1!==a.backgroundImage.indexOf(".svg")&&(n=a.backgroundImage.slice(4,-1),-1!==a.content.indexOf(".svg#")?n=a.content.replace(/["']/g,""):n+="#icon-"+t.data("icon"))}-1!==n.indexOf(".svg#")&&r(n,function(e){!1!==e&&("object"==typeof g?(g.style.cssText+="background-image:url("+e+")",t.get(0).appendChild(g)):t.css("background-image","url("+e+")"))})}),this},e.fn.fixSVGStack=function(){return this.each(function(){var t=e(this),n=t.attr("src");-1!==n.indexOf(".svg#")&&r(n,function(e){!1!==e&&t.attr("src",e)})}),this}}(jQuery);